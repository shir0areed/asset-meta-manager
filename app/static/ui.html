<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Asset Meta Manager</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
        }

        th {
            background: #eee;
        }
        /* 編集モードの input 共通 */
        table input {
            width: 100%;
            box-sizing: border-box;
            padding: 4px;
            border: 1px solid #ccc;
            background: #fff;
            transition: all 0.15s ease;
        }

            /* フォーカス中（編集中） */
            table input:focus {
                border-color: #4a90e2; /* 濃い青 */
                background: #eef6ff; /* 薄い青背景 */
                outline: none;
            }

            /* フォーカスが外れた瞬間（確定） */
            table input:not(:focus) {
                border-color: #ddd; /* 薄いグレー */
                background: #fafafa; /* ほんのり薄い背景 */
            }
    </style>
</head>
<body>
    <h1>Asset Meta Manager</h1>
    <p id="count"></p>

    <button id="edit-toggle">編集モード: OFF</button>

    <form id="category-add-form">
        <h2>カテゴリ列（フォルダ名取得列）編集</h2>

        <input type="text" id="category-columns-name" placeholder="列名">
        <button type="submit">追加</button>
    </form>

    <ul id="category-columns-list"></ul>

    <script src="/static/ui-category-columns.js"></script>

    <form id="annotation-add-form">
        <h2>アノテーション列（メタデータ取得列）編集</h2>

        <input type="text" id="annotation-label" placeholder="列名">
        <input type="text" id="annotation-id" placeholder="メタデータキー">
        <button type="submit">追加</button>
    </form>

    <ul id="annotation-columns-list"></ul>

    <script src="/static/ui-annotation-columns.js"></script>

    <script src="/static/ui-edit-mode.js"></script>

    <table>
        <thead>
            <tr id="header-row"></tr>
            <tr id="filter-row"></tr> <!-- ★ フィルタ行を追加 -->
        </thead>
        <tbody id="file-table"></tbody>
    </table>

    <script src="/static/ui-table.js"></script>

    <div id="lightbox" style="
        display:none;
        position:fixed;
        inset:0;
        background:rgba(0,0,0,0.8);
        justify-content:center;
        align-items:center;
        z-index:9999;
    ">
        <img id="lightbox-img" style="
            width:auto;
            height:auto;
            transform-origin:center center;
        ">
    </div>


    <script src="/static/ui-lightbox.js"></script>
</body>
</html>
